<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>2장 시계열 데이터의 발견과 정리 - Python | fastpages</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="2장 시계열 데이터의 발견과 정리 - Python" />
<meta name="author" content="Chansung Park" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="시계열 데이터의 발견과 정리 중 Python을 사용하는 부분의 소스코드 입니다." />
<meta property="og:description" content="시계열 데이터의 발견과 정리 중 Python을 사용하는 부분의 소스코드 입니다." />
<link rel="canonical" href="https://deep-diver.github.io/practical-time-series-analysis-korean/chapter2-Python/" />
<meta property="og:url" content="https://deep-diver.github.io/practical-time-series-analysis-korean/chapter2-Python/" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-12T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"2장 시계열 데이터의 발견과 정리 - Python","dateModified":"2020-10-12T00:00:00-05:00","datePublished":"2020-10-12T00:00:00-05:00","author":{"@type":"Person","name":"Chansung Park"},"description":"시계열 데이터의 발견과 정리 중 Python을 사용하는 부분의 소스코드 입니다.","mainEntityOfPage":{"@type":"WebPage","@id":"https://deep-diver.github.io/practical-time-series-analysis-korean/chapter2-Python/"},"@type":"BlogPosting","url":"https://deep-diver.github.io/practical-time-series-analysis-korean/chapter2-Python/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/practical-time-series-analysis-korean/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://deep-diver.github.io/practical-time-series-analysis-korean/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/practical-time-series-analysis-korean/images/favicon.ico"><link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/practical-time-series-analysis-korean/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/practical-time-series-analysis-korean/about/">About Me</a><a class="page-link" href="/practical-time-series-analysis-korean/search/">Search</a><a class="page-link" href="/practical-time-series-analysis-korean/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">2장 시계열 데이터의 발견과 정리 - Python</h1><p class="page-description">시계열 데이터의 발견과 정리 중 Python을 사용하는 부분의 소스코드 입니다.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-10-12T00:00:00-05:00" itemprop="datePublished">
        Oct 12, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Chansung Park</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      7 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/practical-time-series-analysis-korean/categories/#exploratory data analysis">exploratory data analysis</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          
          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/deep-diver/practical-time-series-analysis-korean/master?filepath=_notebooks%2F2020-10-12-Chapter2-Python.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/practical-time-series-analysis-korean/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/deep-diver/practical-time-series-analysis-korean/blob/master/_notebooks/2020-10-12-Chapter2-Python.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/practical-time-series-analysis-korean/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-10-12-Chapter2-Python.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">requests</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">YearJoined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/PracticalTimeSeriesAnalysis/BookRepo/master/Ch02/data/year_joined.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emails</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/PracticalTimeSeriesAnalysis/BookRepo/master/Ch02/data/emails.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">donations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/PracticalTimeSeriesAnalysis/BookRepo/master/Ch02/data/donations.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 28 page</span>
<span class="n">YearJoined</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;userStats&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>yearJoined</th>
    </tr>
    <tr>
      <th>userStats</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 29 page</span>
<span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="o">.</span><span class="n">emailsOpened</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>emailsOpened</th>
      <th>user</th>
      <th>week</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>emailsOpened</th>
      <th>user</th>
      <th>week</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>25464</th>
      <td>1.0</td>
      <td>998.0</td>
      <td>2017-12-04 00:00:00</td>
    </tr>
    <tr>
      <th>25465</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2017-12-11 00:00:00</td>
    </tr>
    <tr>
      <th>25466</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2017-12-18 00:00:00</td>
    </tr>
    <tr>
      <th>25467</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-01-01 00:00:00</td>
    </tr>
    <tr>
      <th>25468</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-01-08 00:00:00</td>
    </tr>
    <tr>
      <th>25469</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-01-15 00:00:00</td>
    </tr>
    <tr>
      <th>25470</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-01-22 00:00:00</td>
    </tr>
    <tr>
      <th>25471</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-01-29 00:00:00</td>
    </tr>
    <tr>
      <th>25472</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-02-05 00:00:00</td>
    </tr>
    <tr>
      <th>25473</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-02-12 00:00:00</td>
    </tr>
    <tr>
      <th>25474</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-02-19 00:00:00</td>
    </tr>
    <tr>
      <th>25475</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-02-26 00:00:00</td>
    </tr>
    <tr>
      <th>25476</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-03-05 00:00:00</td>
    </tr>
    <tr>
      <th>25477</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-03-12 00:00:00</td>
    </tr>
    <tr>
      <th>25478</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-03-19 00:00:00</td>
    </tr>
    <tr>
      <th>25479</th>
      <td>2.0</td>
      <td>998.0</td>
      <td>2018-03-26 00:00:00</td>
    </tr>
    <tr>
      <th>25480</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-04-02 00:00:00</td>
    </tr>
    <tr>
      <th>25481</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-04-09 00:00:00</td>
    </tr>
    <tr>
      <th>25482</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-04-16 00:00:00</td>
    </tr>
    <tr>
      <th>25483</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-04-30 00:00:00</td>
    </tr>
    <tr>
      <th>25484</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-05-07 00:00:00</td>
    </tr>
    <tr>
      <th>25485</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-05-14 00:00:00</td>
    </tr>
    <tr>
      <th>25486</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-05-21 00:00:00</td>
    </tr>
    <tr>
      <th>25487</th>
      <td>3.0</td>
      <td>998.0</td>
      <td>2018-05-28 00:00:00</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">date_time_obj</span> <span class="o">-</span> <span class="n">date_time_obj</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.timedelta(0)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 30 page</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">date_time_str_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span><span class="o">.</span><span class="n">week</span><span class="p">)</span>
<span class="n">date_time_str_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span><span class="o">.</span><span class="n">week</span><span class="p">)</span>

<span class="n">date_time_obj_max</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_time_str_max</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
<span class="n">date_time_obj_min</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_time_str_min</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>

<span class="p">(</span><span class="n">date_time_obj_max</span> <span class="o">-</span> <span class="n">date_time_obj_min</span><span class="p">)</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">7</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>25.0</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(24, 3)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 31</span>
<span class="n">complete_idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">((</span><span class="nb">set</span><span class="p">(</span><span class="n">emails</span><span class="o">.</span><span class="n">week</span><span class="p">),</span> <span class="nb">set</span><span class="p">(</span><span class="n">emails</span><span class="o">.</span><span class="n">user</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_email</span> <span class="o">=</span> <span class="n">emails</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">complete_idx</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">all_email</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;emailsOpened&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_email</span><span class="p">[</span><span class="n">all_email</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>week</th>
      <th>user</th>
      <th>emailsOpened</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>33417</th>
      <td>2015-02-09 00:00:00</td>
      <td>998.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>33956</th>
      <td>2015-02-16 00:00:00</td>
      <td>998.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>25332</th>
      <td>2015-02-23 00:00:00</td>
      <td>998.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>17247</th>
      <td>2015-03-02 00:00:00</td>
      <td>998.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>83005</th>
      <td>2015-03-09 00:00:00</td>
      <td>998.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10779</th>
      <td>2018-04-30 00:00:00</td>
      <td>998.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>44197</th>
      <td>2018-05-07 00:00:00</td>
      <td>998.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>78693</th>
      <td>2018-05-14 00:00:00</td>
      <td>998.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>26949</th>
      <td>2018-05-21 00:00:00</td>
      <td>998.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>57133</th>
      <td>2018-05-28 00:00:00</td>
      <td>998.0</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
<p>173 rows × 3 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 32</span>
<span class="n">cutoff_dates</span> <span class="o">=</span> <span class="n">emails</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">week</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">cutoff_dates</span> <span class="o">=</span> <span class="n">cutoff_dates</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cutoff_dates</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
  <span class="n">user</span>        <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span>
  <span class="n">start_date</span>  <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span>
  <span class="n">end_date</span>    <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span>
  <span class="n">all_email</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">all_email</span><span class="p">[</span><span class="n">all_email</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">user</span><span class="p">][</span><span class="n">all_email</span><span class="o">.</span><span class="n">week</span> <span class="o">&lt;</span> <span class="n">start_date</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">all_email</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">all_email</span><span class="p">[</span><span class="n">all_email</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">user</span><span class="p">][</span><span class="n">all_email</span><span class="o">.</span><span class="n">week</span> <span class="o">&gt;</span> <span class="n">end_date</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 33</span>
<span class="n">donations</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">donations</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>
<span class="n">donations</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">agg_don</span> <span class="o">=</span> <span class="n">donations</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">amount</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s2">&quot;W-MON&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">agg_don</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>user   timestamp 
0.0    2015-03-30      25.0
       2015-04-06       0.0
       2015-04-13       0.0
       2015-04-20       0.0
       2015-04-27       0.0
                      ...  
995.0  2017-09-11       0.0
       2017-09-18       0.0
       2017-09-25       0.0
       2017-10-02    1000.0
998.0  2018-01-08      50.0
Name: amount, Length: 32352, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">user_email</span> <span class="ow">in</span> <span class="n">all_email</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">):</span>
  <span class="n">user_donations</span> <span class="o">=</span> <span class="n">agg_don</span><span class="p">[</span><span class="n">agg_don</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">user</span><span class="p">]</span>
  
  <span class="n">user_donations</span> <span class="o">=</span> <span class="n">user_donations</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="c1"># user_donations.set_index(&#39;timestamp&#39;, inplace = True)  </span>
  
  <span class="n">user_email</span> <span class="o">=</span> <span class="n">all_email</span><span class="p">[</span><span class="n">all_email</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">user</span><span class="p">]</span>
  <span class="n">user_email</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">user_email</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

  <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">user_email</span><span class="p">,</span> <span class="n">user_donations</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

  <span class="n">merged_df</span> <span class="o">=</span> <span class="n">merged_df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[[</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;emailsOpened&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
      <th>week</th>
      <th>emailsOpened</th>
      <th>amount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.0</td>
      <td>2015-06-29 00:00:00</td>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>2015-07-06 00:00:00</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
      <td>2015-07-13 00:00:00</td>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.0</td>
      <td>2015-07-20 00:00:00</td>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.0</td>
      <td>2015-07-27 00:00:00</td>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">merged_df</span><span class="p">[</span><span class="n">merged_df</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="mi">998</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">amount</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
      <th>week</th>
      <th>emailsOpened</th>
      <th>amount</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>998.0</td>
      <td>2017-12-04</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>998.0</td>
      <td>2017-12-11</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>998.0</td>
      <td>2017-12-18</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>998.0</td>
      <td>2017-12-25</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>998.0</td>
      <td>2018-01-01</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>998.0</td>
      <td>2018-01-08</td>
      <td>3.0</td>
      <td>50.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>998.0</td>
      <td>2018-01-15</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>50.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># page 57</span>
<span class="n">air</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/PracticalTimeSeriesAnalysis/BookRepo/master/Ch02/data/AirPassengers.csv&quot;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Passengers&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">air</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Passengers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1949-01</td>
      <td>112</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1949-02</td>
      <td>118</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1949-03</td>
      <td>132</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1949-04</td>
      <td>129</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1949-05</td>
      <td>121</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>139</th>
      <td>1960-08</td>
      <td>606</td>
    </tr>
    <tr>
      <th>140</th>
      <td>1960-09</td>
      <td>508</td>
    </tr>
    <tr>
      <th>141</th>
      <td>1960-10</td>
      <td>461</td>
    </tr>
    <tr>
      <th>142</th>
      <td>1960-11</td>
      <td>390</td>
    </tr>
    <tr>
      <th>143</th>
      <td>1960-12</td>
      <td>432</td>
    </tr>
  </tbody>
</table>
<p>144 rows × 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;Smooth.5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">air</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">Passengers</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">air</span><span class="p">[</span><span class="s1">&#39;Smooth.9&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">air</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="o">.</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">Passengers</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">air</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Passengers</th>
      <th>Smooth.5</th>
      <th>Smooth.9</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1949-01</td>
      <td>112</td>
      <td>112.000000</td>
      <td>112.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1949-02</td>
      <td>118</td>
      <td>116.000000</td>
      <td>117.454545</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1949-03</td>
      <td>132</td>
      <td>125.142857</td>
      <td>130.558559</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1949-04</td>
      <td>129</td>
      <td>127.200000</td>
      <td>129.155716</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1949-05</td>
      <td>121</td>
      <td>124.000000</td>
      <td>121.815498</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>139</th>
      <td>1960-08</td>
      <td>606</td>
      <td>582.096411</td>
      <td>606.665454</td>
    </tr>
    <tr>
      <th>140</th>
      <td>1960-09</td>
      <td>508</td>
      <td>545.048205</td>
      <td>517.866545</td>
    </tr>
    <tr>
      <th>141</th>
      <td>1960-10</td>
      <td>461</td>
      <td>503.024103</td>
      <td>466.686655</td>
    </tr>
    <tr>
      <th>142</th>
      <td>1960-11</td>
      <td>390</td>
      <td>446.512051</td>
      <td>397.668665</td>
    </tr>
    <tr>
      <th>143</th>
      <td>1960-12</td>
      <td>432</td>
      <td>439.256026</td>
      <td>428.566867</td>
    </tr>
  </tbody>
</table>
<p>144 rows × 4 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 64 page</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2020, 10, 11, 23, 34, 50, 646020)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2020, 10, 11, 23, 34, 53, 226296)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2020, 10, 11, 23, 34, 58, 944751, tzinfo=datetime.timezone.utc)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pytz</span>

<span class="n">western</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;US/Pacific&#39;</span><span class="p">)</span>
<span class="n">western</span><span class="o">.</span><span class="n">zone</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;US/Pacific&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loc_dt</span> <span class="o">=</span> <span class="n">western</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">loc_dt</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2018, 5, 15, 12, 34, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PDT-1 day, 17:00:00 DST&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">london_tz</span> <span class="o">=</span> <span class="n">pytz</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s1">&#39;Europe/London&#39;</span><span class="p">)</span>
<span class="n">london_dt</span> <span class="o">=</span> <span class="n">loc_dt</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">london_tz</span><span class="p">)</span>
<span class="n">london_dt</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2018, 5, 15, 20, 34, tzinfo=&lt;DstTzInfo &#39;Europe/London&#39; BST+1:00:00 DST&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S %Z%z&#39;</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">london_tz</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;2018-05-12 12:15:00 LMT-0001&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">event1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">london_tz</span><span class="p">)</span>
<span class="n">event2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span> <span class="o">=</span> <span class="n">western</span><span class="p">)</span>
<span class="n">event2</span> <span class="o">-</span> <span class="n">event1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.timedelta(1, 17520)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">event1</span> <span class="o">=</span> <span class="n">london_tz</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">event2</span> <span class="o">=</span> <span class="n">western</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">event2</span> <span class="o">-</span> <span class="n">event1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.timedelta(1, 18000)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">event1</span> <span class="o">=</span> <span class="n">london_tz</span><span class="o">.</span><span class="n">localize</span><span class="p">((</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="n">event2</span> <span class="o">=</span> <span class="n">western</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="n">event2</span> <span class="o">-</span> <span class="n">event1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.timedelta(1, 18000)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pytz</span><span class="o">.</span><span class="n">common_timezones</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Africa/Abidjan&#39;, &#39;Africa/Accra&#39;, &#39;Africa/Addis_Ababa&#39;, &#39;Africa/Algiers&#39;, &#39;Africa/Asmara&#39;, &#39;Africa/Bamako&#39;, &#39;Africa/Bangui&#39;, &#39;Africa/Banjul&#39;, &#39;Africa/Bissau&#39;, &#39;Africa/Blantyre&#39;, &#39;Africa/Brazzaville&#39;, &#39;Africa/Bujumbura&#39;, &#39;Africa/Cairo&#39;, &#39;Africa/Casablanca&#39;, &#39;Africa/Ceuta&#39;, &#39;Africa/Conakry&#39;, &#39;Africa/Dakar&#39;, &#39;Africa/Dar_es_Salaam&#39;, &#39;Africa/Djibouti&#39;, &#39;Africa/Douala&#39;, &#39;Africa/El_Aaiun&#39;, &#39;Africa/Freetown&#39;, &#39;Africa/Gaborone&#39;, &#39;Africa/Harare&#39;, &#39;Africa/Johannesburg&#39;, &#39;Africa/Juba&#39;, &#39;Africa/Kampala&#39;, &#39;Africa/Khartoum&#39;, &#39;Africa/Kigali&#39;, &#39;Africa/Kinshasa&#39;, &#39;Africa/Lagos&#39;, &#39;Africa/Libreville&#39;, &#39;Africa/Lome&#39;, &#39;Africa/Luanda&#39;, &#39;Africa/Lubumbashi&#39;, &#39;Africa/Lusaka&#39;, &#39;Africa/Malabo&#39;, &#39;Africa/Maputo&#39;, &#39;Africa/Maseru&#39;, &#39;Africa/Mbabane&#39;, &#39;Africa/Mogadishu&#39;, &#39;Africa/Monrovia&#39;, &#39;Africa/Nairobi&#39;, &#39;Africa/Ndjamena&#39;, &#39;Africa/Niamey&#39;, &#39;Africa/Nouakchott&#39;, &#39;Africa/Ouagadougou&#39;, &#39;Africa/Porto-Novo&#39;, &#39;Africa/Sao_Tome&#39;, &#39;Africa/Tripoli&#39;, &#39;Africa/Tunis&#39;, &#39;Africa/Windhoek&#39;, &#39;America/Adak&#39;, &#39;America/Anchorage&#39;, &#39;America/Anguilla&#39;, &#39;America/Antigua&#39;, &#39;America/Araguaina&#39;, &#39;America/Argentina/Buenos_Aires&#39;, &#39;America/Argentina/Catamarca&#39;, &#39;America/Argentina/Cordoba&#39;, &#39;America/Argentina/Jujuy&#39;, &#39;America/Argentina/La_Rioja&#39;, &#39;America/Argentina/Mendoza&#39;, &#39;America/Argentina/Rio_Gallegos&#39;, &#39;America/Argentina/Salta&#39;, &#39;America/Argentina/San_Juan&#39;, &#39;America/Argentina/San_Luis&#39;, &#39;America/Argentina/Tucuman&#39;, &#39;America/Argentina/Ushuaia&#39;, &#39;America/Aruba&#39;, &#39;America/Asuncion&#39;, &#39;America/Atikokan&#39;, &#39;America/Bahia&#39;, &#39;America/Bahia_Banderas&#39;, &#39;America/Barbados&#39;, &#39;America/Belem&#39;, &#39;America/Belize&#39;, &#39;America/Blanc-Sablon&#39;, &#39;America/Boa_Vista&#39;, &#39;America/Bogota&#39;, &#39;America/Boise&#39;, &#39;America/Cambridge_Bay&#39;, &#39;America/Campo_Grande&#39;, &#39;America/Cancun&#39;, &#39;America/Caracas&#39;, &#39;America/Cayenne&#39;, &#39;America/Cayman&#39;, &#39;America/Chicago&#39;, &#39;America/Chihuahua&#39;, &#39;America/Costa_Rica&#39;, &#39;America/Creston&#39;, &#39;America/Cuiaba&#39;, &#39;America/Curacao&#39;, &#39;America/Danmarkshavn&#39;, &#39;America/Dawson&#39;, &#39;America/Dawson_Creek&#39;, &#39;America/Denver&#39;, &#39;America/Detroit&#39;, &#39;America/Dominica&#39;, &#39;America/Edmonton&#39;, &#39;America/Eirunepe&#39;, &#39;America/El_Salvador&#39;, &#39;America/Fort_Nelson&#39;, &#39;America/Fortaleza&#39;, &#39;America/Glace_Bay&#39;, &#39;America/Godthab&#39;, &#39;America/Goose_Bay&#39;, &#39;America/Grand_Turk&#39;, &#39;America/Grenada&#39;, &#39;America/Guadeloupe&#39;, &#39;America/Guatemala&#39;, &#39;America/Guayaquil&#39;, &#39;America/Guyana&#39;, &#39;America/Halifax&#39;, &#39;America/Havana&#39;, &#39;America/Hermosillo&#39;, &#39;America/Indiana/Indianapolis&#39;, &#39;America/Indiana/Knox&#39;, &#39;America/Indiana/Marengo&#39;, &#39;America/Indiana/Petersburg&#39;, &#39;America/Indiana/Tell_City&#39;, &#39;America/Indiana/Vevay&#39;, &#39;America/Indiana/Vincennes&#39;, &#39;America/Indiana/Winamac&#39;, &#39;America/Inuvik&#39;, &#39;America/Iqaluit&#39;, &#39;America/Jamaica&#39;, &#39;America/Juneau&#39;, &#39;America/Kentucky/Louisville&#39;, &#39;America/Kentucky/Monticello&#39;, &#39;America/Kralendijk&#39;, &#39;America/La_Paz&#39;, &#39;America/Lima&#39;, &#39;America/Los_Angeles&#39;, &#39;America/Lower_Princes&#39;, &#39;America/Maceio&#39;, &#39;America/Managua&#39;, &#39;America/Manaus&#39;, &#39;America/Marigot&#39;, &#39;America/Martinique&#39;, &#39;America/Matamoros&#39;, &#39;America/Mazatlan&#39;, &#39;America/Menominee&#39;, &#39;America/Merida&#39;, &#39;America/Metlakatla&#39;, &#39;America/Mexico_City&#39;, &#39;America/Miquelon&#39;, &#39;America/Moncton&#39;, &#39;America/Monterrey&#39;, &#39;America/Montevideo&#39;, &#39;America/Montserrat&#39;, &#39;America/Nassau&#39;, &#39;America/New_York&#39;, &#39;America/Nipigon&#39;, &#39;America/Nome&#39;, &#39;America/Noronha&#39;, &#39;America/North_Dakota/Beulah&#39;, &#39;America/North_Dakota/Center&#39;, &#39;America/North_Dakota/New_Salem&#39;, &#39;America/Ojinaga&#39;, &#39;America/Panama&#39;, &#39;America/Pangnirtung&#39;, &#39;America/Paramaribo&#39;, &#39;America/Phoenix&#39;, &#39;America/Port-au-Prince&#39;, &#39;America/Port_of_Spain&#39;, &#39;America/Porto_Velho&#39;, &#39;America/Puerto_Rico&#39;, &#39;America/Punta_Arenas&#39;, &#39;America/Rainy_River&#39;, &#39;America/Rankin_Inlet&#39;, &#39;America/Recife&#39;, &#39;America/Regina&#39;, &#39;America/Resolute&#39;, &#39;America/Rio_Branco&#39;, &#39;America/Santarem&#39;, &#39;America/Santiago&#39;, &#39;America/Santo_Domingo&#39;, &#39;America/Sao_Paulo&#39;, &#39;America/Scoresbysund&#39;, &#39;America/Sitka&#39;, &#39;America/St_Barthelemy&#39;, &#39;America/St_Johns&#39;, &#39;America/St_Kitts&#39;, &#39;America/St_Lucia&#39;, &#39;America/St_Thomas&#39;, &#39;America/St_Vincent&#39;, &#39;America/Swift_Current&#39;, &#39;America/Tegucigalpa&#39;, &#39;America/Thule&#39;, &#39;America/Thunder_Bay&#39;, &#39;America/Tijuana&#39;, &#39;America/Toronto&#39;, &#39;America/Tortola&#39;, &#39;America/Vancouver&#39;, &#39;America/Whitehorse&#39;, &#39;America/Winnipeg&#39;, &#39;America/Yakutat&#39;, &#39;America/Yellowknife&#39;, &#39;Antarctica/Casey&#39;, &#39;Antarctica/Davis&#39;, &#39;Antarctica/DumontDUrville&#39;, &#39;Antarctica/Macquarie&#39;, &#39;Antarctica/Mawson&#39;, &#39;Antarctica/McMurdo&#39;, &#39;Antarctica/Palmer&#39;, &#39;Antarctica/Rothera&#39;, &#39;Antarctica/Syowa&#39;, &#39;Antarctica/Troll&#39;, &#39;Antarctica/Vostok&#39;, &#39;Arctic/Longyearbyen&#39;, &#39;Asia/Aden&#39;, &#39;Asia/Almaty&#39;, &#39;Asia/Amman&#39;, &#39;Asia/Anadyr&#39;, &#39;Asia/Aqtau&#39;, &#39;Asia/Aqtobe&#39;, &#39;Asia/Ashgabat&#39;, &#39;Asia/Atyrau&#39;, &#39;Asia/Baghdad&#39;, &#39;Asia/Bahrain&#39;, &#39;Asia/Baku&#39;, &#39;Asia/Bangkok&#39;, &#39;Asia/Barnaul&#39;, &#39;Asia/Beirut&#39;, &#39;Asia/Bishkek&#39;, &#39;Asia/Brunei&#39;, &#39;Asia/Chita&#39;, &#39;Asia/Choibalsan&#39;, &#39;Asia/Colombo&#39;, &#39;Asia/Damascus&#39;, &#39;Asia/Dhaka&#39;, &#39;Asia/Dili&#39;, &#39;Asia/Dubai&#39;, &#39;Asia/Dushanbe&#39;, &#39;Asia/Famagusta&#39;, &#39;Asia/Gaza&#39;, &#39;Asia/Hebron&#39;, &#39;Asia/Ho_Chi_Minh&#39;, &#39;Asia/Hong_Kong&#39;, &#39;Asia/Hovd&#39;, &#39;Asia/Irkutsk&#39;, &#39;Asia/Jakarta&#39;, &#39;Asia/Jayapura&#39;, &#39;Asia/Jerusalem&#39;, &#39;Asia/Kabul&#39;, &#39;Asia/Kamchatka&#39;, &#39;Asia/Karachi&#39;, &#39;Asia/Kathmandu&#39;, &#39;Asia/Khandyga&#39;, &#39;Asia/Kolkata&#39;, &#39;Asia/Krasnoyarsk&#39;, &#39;Asia/Kuala_Lumpur&#39;, &#39;Asia/Kuching&#39;, &#39;Asia/Kuwait&#39;, &#39;Asia/Macau&#39;, &#39;Asia/Magadan&#39;, &#39;Asia/Makassar&#39;, &#39;Asia/Manila&#39;, &#39;Asia/Muscat&#39;, &#39;Asia/Nicosia&#39;, &#39;Asia/Novokuznetsk&#39;, &#39;Asia/Novosibirsk&#39;, &#39;Asia/Omsk&#39;, &#39;Asia/Oral&#39;, &#39;Asia/Phnom_Penh&#39;, &#39;Asia/Pontianak&#39;, &#39;Asia/Pyongyang&#39;, &#39;Asia/Qatar&#39;, &#39;Asia/Qostanay&#39;, &#39;Asia/Qyzylorda&#39;, &#39;Asia/Riyadh&#39;, &#39;Asia/Sakhalin&#39;, &#39;Asia/Samarkand&#39;, &#39;Asia/Seoul&#39;, &#39;Asia/Shanghai&#39;, &#39;Asia/Singapore&#39;, &#39;Asia/Srednekolymsk&#39;, &#39;Asia/Taipei&#39;, &#39;Asia/Tashkent&#39;, &#39;Asia/Tbilisi&#39;, &#39;Asia/Tehran&#39;, &#39;Asia/Thimphu&#39;, &#39;Asia/Tokyo&#39;, &#39;Asia/Tomsk&#39;, &#39;Asia/Ulaanbaatar&#39;, &#39;Asia/Urumqi&#39;, &#39;Asia/Ust-Nera&#39;, &#39;Asia/Vientiane&#39;, &#39;Asia/Vladivostok&#39;, &#39;Asia/Yakutsk&#39;, &#39;Asia/Yangon&#39;, &#39;Asia/Yekaterinburg&#39;, &#39;Asia/Yerevan&#39;, &#39;Atlantic/Azores&#39;, &#39;Atlantic/Bermuda&#39;, &#39;Atlantic/Canary&#39;, &#39;Atlantic/Cape_Verde&#39;, &#39;Atlantic/Faroe&#39;, &#39;Atlantic/Madeira&#39;, &#39;Atlantic/Reykjavik&#39;, &#39;Atlantic/South_Georgia&#39;, &#39;Atlantic/St_Helena&#39;, &#39;Atlantic/Stanley&#39;, &#39;Australia/Adelaide&#39;, &#39;Australia/Brisbane&#39;, &#39;Australia/Broken_Hill&#39;, &#39;Australia/Currie&#39;, &#39;Australia/Darwin&#39;, &#39;Australia/Eucla&#39;, &#39;Australia/Hobart&#39;, &#39;Australia/Lindeman&#39;, &#39;Australia/Lord_Howe&#39;, &#39;Australia/Melbourne&#39;, &#39;Australia/Perth&#39;, &#39;Australia/Sydney&#39;, &#39;Canada/Atlantic&#39;, &#39;Canada/Central&#39;, &#39;Canada/Eastern&#39;, &#39;Canada/Mountain&#39;, &#39;Canada/Newfoundland&#39;, &#39;Canada/Pacific&#39;, &#39;Europe/Amsterdam&#39;, &#39;Europe/Andorra&#39;, &#39;Europe/Astrakhan&#39;, &#39;Europe/Athens&#39;, &#39;Europe/Belgrade&#39;, &#39;Europe/Berlin&#39;, &#39;Europe/Bratislava&#39;, &#39;Europe/Brussels&#39;, &#39;Europe/Bucharest&#39;, &#39;Europe/Budapest&#39;, &#39;Europe/Busingen&#39;, &#39;Europe/Chisinau&#39;, &#39;Europe/Copenhagen&#39;, &#39;Europe/Dublin&#39;, &#39;Europe/Gibraltar&#39;, &#39;Europe/Guernsey&#39;, &#39;Europe/Helsinki&#39;, &#39;Europe/Isle_of_Man&#39;, &#39;Europe/Istanbul&#39;, &#39;Europe/Jersey&#39;, &#39;Europe/Kaliningrad&#39;, &#39;Europe/Kiev&#39;, &#39;Europe/Kirov&#39;, &#39;Europe/Lisbon&#39;, &#39;Europe/Ljubljana&#39;, &#39;Europe/London&#39;, &#39;Europe/Luxembourg&#39;, &#39;Europe/Madrid&#39;, &#39;Europe/Malta&#39;, &#39;Europe/Mariehamn&#39;, &#39;Europe/Minsk&#39;, &#39;Europe/Monaco&#39;, &#39;Europe/Moscow&#39;, &#39;Europe/Oslo&#39;, &#39;Europe/Paris&#39;, &#39;Europe/Podgorica&#39;, &#39;Europe/Prague&#39;, &#39;Europe/Riga&#39;, &#39;Europe/Rome&#39;, &#39;Europe/Samara&#39;, &#39;Europe/San_Marino&#39;, &#39;Europe/Sarajevo&#39;, &#39;Europe/Saratov&#39;, &#39;Europe/Simferopol&#39;, &#39;Europe/Skopje&#39;, &#39;Europe/Sofia&#39;, &#39;Europe/Stockholm&#39;, &#39;Europe/Tallinn&#39;, &#39;Europe/Tirane&#39;, &#39;Europe/Ulyanovsk&#39;, &#39;Europe/Uzhgorod&#39;, &#39;Europe/Vaduz&#39;, &#39;Europe/Vatican&#39;, &#39;Europe/Vienna&#39;, &#39;Europe/Vilnius&#39;, &#39;Europe/Volgograd&#39;, &#39;Europe/Warsaw&#39;, &#39;Europe/Zagreb&#39;, &#39;Europe/Zaporozhye&#39;, &#39;Europe/Zurich&#39;, &#39;GMT&#39;, &#39;Indian/Antananarivo&#39;, &#39;Indian/Chagos&#39;, &#39;Indian/Christmas&#39;, &#39;Indian/Cocos&#39;, &#39;Indian/Comoro&#39;, &#39;Indian/Kerguelen&#39;, &#39;Indian/Mahe&#39;, &#39;Indian/Maldives&#39;, &#39;Indian/Mauritius&#39;, &#39;Indian/Mayotte&#39;, &#39;Indian/Reunion&#39;, &#39;Pacific/Apia&#39;, &#39;Pacific/Auckland&#39;, &#39;Pacific/Bougainville&#39;, &#39;Pacific/Chatham&#39;, &#39;Pacific/Chuuk&#39;, &#39;Pacific/Easter&#39;, &#39;Pacific/Efate&#39;, &#39;Pacific/Enderbury&#39;, &#39;Pacific/Fakaofo&#39;, &#39;Pacific/Fiji&#39;, &#39;Pacific/Funafuti&#39;, &#39;Pacific/Galapagos&#39;, &#39;Pacific/Gambier&#39;, &#39;Pacific/Guadalcanal&#39;, &#39;Pacific/Guam&#39;, &#39;Pacific/Honolulu&#39;, &#39;Pacific/Kiritimati&#39;, &#39;Pacific/Kosrae&#39;, &#39;Pacific/Kwajalein&#39;, &#39;Pacific/Majuro&#39;, &#39;Pacific/Marquesas&#39;, &#39;Pacific/Midway&#39;, &#39;Pacific/Nauru&#39;, &#39;Pacific/Niue&#39;, &#39;Pacific/Norfolk&#39;, &#39;Pacific/Noumea&#39;, &#39;Pacific/Pago_Pago&#39;, &#39;Pacific/Palau&#39;, &#39;Pacific/Pitcairn&#39;, &#39;Pacific/Pohnpei&#39;, &#39;Pacific/Port_Moresby&#39;, &#39;Pacific/Rarotonga&#39;, &#39;Pacific/Saipan&#39;, &#39;Pacific/Tahiti&#39;, &#39;Pacific/Tarawa&#39;, &#39;Pacific/Tongatapu&#39;, &#39;Pacific/Wake&#39;, &#39;Pacific/Wallis&#39;, &#39;US/Alaska&#39;, &#39;US/Arizona&#39;, &#39;US/Central&#39;, &#39;US/Eastern&#39;, &#39;US/Hawaii&#39;, &#39;US/Mountain&#39;, &#39;US/Pacific&#39;, &#39;UTC&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pytz</span><span class="o">.</span><span class="n">country_timezones</span><span class="p">(</span><span class="s1">&#39;RU&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Europe/Kaliningrad&#39;,
 &#39;Europe/Moscow&#39;,
 &#39;Europe/Simferopol&#39;,
 &#39;Europe/Kirov&#39;,
 &#39;Europe/Astrakhan&#39;,
 &#39;Europe/Volgograd&#39;,
 &#39;Europe/Saratov&#39;,
 &#39;Europe/Ulyanovsk&#39;,
 &#39;Europe/Samara&#39;,
 &#39;Asia/Yekaterinburg&#39;,
 &#39;Asia/Omsk&#39;,
 &#39;Asia/Novosibirsk&#39;,
 &#39;Asia/Barnaul&#39;,
 &#39;Asia/Tomsk&#39;,
 &#39;Asia/Novokuznetsk&#39;,
 &#39;Asia/Krasnoyarsk&#39;,
 &#39;Asia/Irkutsk&#39;,
 &#39;Asia/Chita&#39;,
 &#39;Asia/Yakutsk&#39;,
 &#39;Asia/Khandyga&#39;,
 &#39;Asia/Vladivostok&#39;,
 &#39;Asia/Ust-Nera&#39;,
 &#39;Asia/Magadan&#39;,
 &#39;Asia/Sakhalin&#39;,
 &#39;Asia/Srednekolymsk&#39;,
 &#39;Asia/Kamchatka&#39;,
 &#39;Asia/Anadyr&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pytz</span><span class="o">.</span><span class="n">country_timezones</span><span class="p">(</span><span class="s1">&#39;fr&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Europe/Paris&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time</span> <span class="o">=</span> <span class="n">western</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">00</span><span class="p">))</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="n">ambig_time_earlier</span> <span class="o">=</span> <span class="n">ambig_time</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ambig_time_later</span> <span class="o">=</span> <span class="n">ambig_time</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time_earlier</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 1, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PDT-1 day, 17:00:00 DST&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 1, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PST-1 day, 16:00:00 STD&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time_later</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 2, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PST-1 day, 16:00:00 STD&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time</span> <span class="o">=</span> <span class="n">western</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">00</span><span class="p">),</span> <span class="n">is_dst</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="n">ambig_time_earlier</span> <span class="o">=</span> <span class="n">ambig_time</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ambig_time_later</span> <span class="o">=</span> <span class="n">ambig_time</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time_earlier</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 0, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PDT-1 day, 17:00:00 DST&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 1, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PDT-1 day, 17:00:00 DST&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ambig_time_later</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">western</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>datetime.datetime(2002, 10, 27, 1, 30, tzinfo=&lt;DstTzInfo &#39;US/Pacific&#39; PST-1 day, 16:00:00 STD&gt;)</pre>
</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/practical-time-series-analysis-korean/chapter2-Python/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/practical-time-series-analysis-korean/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/practical-time-series-analysis-korean/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/practical-time-series-analysis-korean/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/practical-time-series-analysis-korean/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/practical-time-series-analysis-korean/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
